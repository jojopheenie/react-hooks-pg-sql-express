{"ast":null,"code":"var _jsxFileName = \"/Users/josephineamos/react-hooks-blog-fullstack/Client/src/Blog/addpost.js\";\nimport React, { useContext } from 'react';\nimport axios from 'axios';\nimport history from '../utils/history';\nimport Context from '../utils/context';\nimport TextField from '@material-ui/core/TextField';\n\nconst AddPost = () => {\n  const context = useContext(Context);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const user_id = context.dbProfileState[0].uid;\n    console.log('context in addpost', user_id);\n    const username = context.dbProfileState[0].username;\n    const data = {\n      title: event.target.title.value,\n      body: event.target.body.value,\n      username: username,\n      uid: user_id\n    };\n    axios.post('/api/post/posttodb', data).then(response => console.log(response)).catch(err => console.log(err)).then(setTimeout(() => history.replace('/'), 700));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    id: \"title\",\n    label: \"Title\",\n    margin: \"normal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"body\",\n    label: \"Body\",\n    multiline: true,\n    rowsMax: \"4\",\n    margin: \"normal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 12\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 12\n    }\n  }, \" Submit \")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => history.replace('/posts'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, \" Cancel \"));\n};\n\nexport default AddPost;","map":{"version":3,"sources":["/Users/josephineamos/react-hooks-blog-fullstack/Client/src/Blog/addpost.js"],"names":["React","useContext","axios","history","Context","TextField","AddPost","context","handleSubmit","event","preventDefault","user_id","dbProfileState","uid","console","log","username","data","title","target","value","body","post","then","response","catch","err","setTimeout","replace"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;;AAIA,MAAMC,OAAO,GAAG,MAAM;AACpB,QAAMC,OAAO,GAAGN,UAAU,CAACG,OAAD,CAA1B;;AAEA,QAAMI,YAAY,GAAIC,KAAD,IAAW;AAC9BA,IAAAA,KAAK,CAACC,cAAN;AACA,UAAMC,OAAO,GAAGJ,OAAO,CAACK,cAAR,CAAuB,CAAvB,EAA0BC,GAA1C;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCJ,OAAlC;AACA,UAAMK,QAAQ,GAAGT,OAAO,CAACK,cAAR,CAAuB,CAAvB,EAA0BI,QAA3C;AACA,UAAMC,IAAI,GAAG;AAACC,MAAAA,KAAK,EAAET,KAAK,CAACU,MAAN,CAAaD,KAAb,CAAmBE,KAA3B;AACCC,MAAAA,IAAI,EAAEZ,KAAK,CAACU,MAAN,CAAaE,IAAb,CAAkBD,KADzB;AAECJ,MAAAA,QAAQ,EAAEA,QAFX;AAGCH,MAAAA,GAAG,EAAEF;AAHN,KAAb;AAKAT,IAAAA,KAAK,CAACoB,IAAN,CAAW,oBAAX,EAAiCL,IAAjC,EACGM,IADH,CACQC,QAAQ,IAAIV,OAAO,CAACC,GAAR,CAAYS,QAAZ,CADpB,EAEGC,KAFH,CAEUC,GAAD,IAASZ,OAAO,CAACC,GAAR,CAAYW,GAAZ,CAFlB,EAGGH,IAHH,CAGQI,UAAU,CAAC,MAAMxB,OAAO,CAACyB,OAAR,CAAgB,GAAhB,CAAP,EAA6B,GAA7B,CAHlB;AAID,GAdD;;AAiBE,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,QAAQ,EAAEpB,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AACE,IAAA,EAAE,EAAC,OADL;AAEE,IAAA,KAAK,EAAC,OAFR;AAGE,IAAA,MAAM,EAAC,QAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,eAOE,oBAAC,SAAD;AACE,IAAA,EAAE,EAAC,MADL;AAEE,IAAA,KAAK,EAAC,MAFR;AAGE,IAAA,SAAS,MAHX;AAIE,IAAA,OAAO,EAAC,GAJV;AAKE,IAAA,MAAM,EAAC,QALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,eAcG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAdH,eAeG;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAfH,CADF,eAkBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlBF,eAmBE;AAAQ,IAAA,OAAO,EAAE,MAAML,OAAO,CAACyB,OAAR,CAAgB,QAAhB,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAnBF,CADF;AAsBA,CA1CJ;;AA8CA,eAAetB,OAAf","sourcesContent":["import React, { useContext} from 'react';\r\nimport axios from 'axios';\r\n\r\nimport history from '../utils/history';\r\nimport Context from '../utils/context';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\n\r\n\r\nconst AddPost = () => {\r\n  const context = useContext(Context)\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault()\r\n    const user_id = context.dbProfileState[0].uid\r\n    console.log('context in addpost', user_id)\r\n    const username = context.dbProfileState[0].username\r\n    const data = {title: event.target.title.value,\r\n                  body: event.target.body.value,\r\n                  username: username,\r\n                  uid: user_id}\r\n\r\n    axios.post('/api/post/posttodb', data)\r\n      .then(response => console.log(response))\r\n      .catch((err) => console.log(err))\r\n      .then(setTimeout(() => history.replace('/'), 700) )\r\n  }\r\n\r\n\r\n    return(\r\n      <div>\r\n        <form onSubmit={handleSubmit}>\r\n          <TextField\r\n            id='title'\r\n            label='Title'\r\n            margin='normal'\r\n            />\r\n          <br />\r\n          <TextField\r\n            id='body'\r\n            label='Body'\r\n            multiline\r\n            rowsMax='4'\r\n            margin=\"normal\"\r\n            />\r\n           <br />\r\n           <button type='submit'> Submit </button>\r\n           </form>\r\n        <br />\r\n        <button onClick={() => history.replace('/posts')}> Cancel </button>\r\n      </div>\r\n  )}\r\n\r\n\r\n\r\nexport default AddPost;\r\n"]},"metadata":{},"sourceType":"module"}